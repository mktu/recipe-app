# お気に入り + 調理回数

## ステータス
📋 未着手

## 背景・課題

登録レシピが増えてくると、「いつか試したい」レシピと「鉄板でよく作る」レシピが混在してしまう。
献立に迷ったとき、信頼できるレシピにすぐアクセスできる仕組みが欲しい。

## 方針

**お気に入りフラグ × 調理回数カウント** の組み合わせで実現する。

- **お気に入りフラグ（手動）:** 明示的に「これは鉄板」とマークできる
- **調理回数カウント（自動）:** 献立決定時などのアクションでカウントアップ。使えば使うほど「よく作るレシピ」が浮かび上がる

### なぜ両方必要か

- 調理回数だけだと、使い始めは全部ゼロで機能しない
- お気に入りだけだと、付け忘れが発生する
- 組み合わせることで補完できる

## 実装アイデア

### DB

```sql
-- recipes テーブルに追加
is_favorite BOOLEAN DEFAULT FALSE
cook_count  INTEGER DEFAULT 0
last_cooked_at TIMESTAMPTZ
```

### UI

- レシピカードにスターアイコン（タップでお気に入りトグル）
- 「探す」ボトムシートの選択肢に「⭐ お気に入り」「🔁 よく作るレシピ」を追加
- よく作るレシピ = `cook_count` 上位 or `last_cooked_at` が新しいもの

### 調理回数のカウントタイミング（要検討）

- 献立決定ボタンを押したとき
- レシピ詳細を一定時間閲覧したとき
- 明示的な「作った！」ボタン

## 関連エピック

- [探す体験の改善（ボトムシート）](./search-ux.md) - お気に入り・よく作るレシピの表示口になる
