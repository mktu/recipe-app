# 調理時間データ取得

## ステータス
✅ 完了（2026-02-24 PR #10 マージ）

## 背景・課題

「時短レシピを探す」機能を実現するには、各レシピの調理時間データが必要。
現在はレシピ解析時に調理時間を取得していない。

## 方針

レシピ解析（Jina Reader + Gemini）時に調理時間を抽出し、DBに保存する。

## 実装内容

### DB

```sql
-- recipes テーブルに追加済み
cooking_time_minutes INTEGER  -- 調理時間（分）。不明の場合は NULL
```

### レシピ解析時の抽出

| ストラテジー | 取得方法 |
|---|---|
| JSON-LD | `cookTime` → `totalTime` の順。ISO 8601（PT1H30M→90）をパース |
| `__NEXT_DATA__`（Nadia） | `cookTime` フィールド（整数・分単位）をそのまま取得 |
| Gemini フォールバック | プロンプトで分単位の整数として抽出 |

### 時短の定義（要検討）

- 例: 30分以内
- サイトによって「調理時間」の定義が異なる（下ごしらえ含むか否かなど）

## 関連エピック

- [探す体験の改善（クイックリプライ）](./search-ux.md) - ⏱ 時短選択肢の実装
